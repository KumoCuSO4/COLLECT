| 修改人员 | 日期      | 变更原因                     | 版本号 |
| -------- | --------- | ---------------------------- | ------ |
| 徐人杰   | 2022/3/12 | 初始化文档                   | v1.0   |
| 徐人杰   | 2022/3/14 | 更新了部分文档               | v1.1   |
| 徐人杰   | 2022/3/15 | 更新了补充说明报告部分的内容 | v1.2   |
| 徐人杰   | 2022/3/27 | 更新了个人信息等接口         | v2.0   |
| 张淼     | 2022/3/30 | 更新文件接口                 | v2.1   |
| 徐人杰   | 2022/3/31 | 更新了id相关内容             | v2.2   |
| 徐人杰   | 2022/4/1  | 更新了补充说明报告相关接口   | v2.3   |

|                        | URL                      | 请求方式 |
| ---------------------- | ------------------------ | -------- |
| 登录                   | /user/login              | post     |
| 注册                   | /user/register           | post     |
| 登出 | /user/logout | post |
| 修改个人信息 | /user/updateInformation | post |
| 发布众测任务           | /task/create             | post     |
| 浏览任务广场全部任务   | /task/getAll             | get      |
| 众包工人浏览任务广场   | /task/getList            | get      |
| 发包方浏览已发布众包 | /task/getCreated | get |
| 浏览详细任务信息       | /task/{taskId}           | get      |
| 上传可执行文件       | /task/{taskId}/uploadExecutable  | post    |
| 上传文档            | /task/{taskId}/uploadDoc  | post    |
| 下载可执行文件       | /task/{taskId}/downloadExecutable  | get    |
| 下载文档            | /task/{taskId}/downloadDoc  | get  |
| 工人接受任务           | /taskOrder/acceptTask    | post     |
| 工人浏览正在进行的任务 | /taskOrder/getDoing     | get      |
| 工人浏览已完成的任务   | /taskOrder/getFinished   | get      |
| 提交报告               | /report/submit           | post     |
| 浏览报告列表           | /report/getList/{taskId} | get      |
| 浏览报告详情           | /report/getReport        | get      |
| 获取相似报告 | /report/getSimilar | get |
| 提交补充说明报告 | /supplement/createSupplement | post |
| 获取补充说明报告列表 | /supplement/getList | get |
| 浏览补充说明报告详情 | /supplement/getSupplement | get |
| 发布评论 | /comment/createComment | post |
| 获取全部评论 | /comment/getComments | get |

[TOC]

# 登录

**简要描述**

- 用户登录

**请求URL**

- /user/login

**请求方式**

- POST

**Header**

```
{
}
```

**请求体**

| 参数名   | 必选 | 类型   | 说明   |
| -------- | ---- | ------ | ------ |
| uname    | 是   | string | 用户名 |
| password | 是   | string | 密码   |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| code         | int    | 是否成功；0表示成功，1表示失败 |
| msg          | string | 请求结果的描述信息             |
| data         |        |                                |
| +uid         | int    | 更新过的用户id                 |
| +uname       | String | 用户名                         |
| +password    | string | 密码                           |
| +user_role   | int    | 用户类型                       |
| +phone       | string | 手机号码                       |
| +email       | string | 邮箱                           |
| +description | string | 个人简介                       |
| +ability     | double | 能力值                         |
| +preference  | string | 任务偏好                       |
| +activity    | int    | 活跃度                         |
| +equipment   | string | 测试设备类型                   |

**返回示例**

```json
{
	"code" : 0,
	"msg" : "登陆成功",
  	"data"	:"........................."
}
```

# 注册

**简要描述**

- 用户注册

**请求URL**

- /user/register

**请求方式**

- POST

**Header**

```
{
}
```

**请求体**

| 参数名    | 必选 | 类型   | 说明                                |
| --------- | ---- | ------ | ----------------------------------- |
| uid       | 否   | int    | 默认传0                             |
| uname     | 是   | string | 用户名                              |
| password  | 是   | string | 密码                                |
| user_role | 是   | int    | 用户类型；0管理员 1发包方 2众包工人 |
| phone     | 是   | string | 手机号码                            |
| email     | 是   | string | 邮箱                                |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| code         | int    | 是否成功；0表示成功，1表示失败 |
| msg          | string | 请求结果的描述信息             |
| data         |        |                                |
| +uid         | int    | 更新过的用户id                 |
| +uname       | String | 用户名                         |
| +password    | string | 密码                           |
| +user_role   | int    | 用户类型                       |
| +phone       | string | 手机号码                       |
| +email       | string | 邮箱                           |
| +description | string | 个人简介                       |
| +ability     | double | 能力值                         |
| +preference  | string | 任务偏好                       |
| +activity    | int    | 活跃度                         |
| +equipment   | string | 测试设备类型                   |

**返回示例**

```json
{
	"code" : 0,
	"msg" : "注册成功",
    "data"	:"........................."
}
```

# 登出

**简要描述**

- 用户登出

**请求URL**

- /user/logout

**请求方式**

- POST

**Header**

```
{
}
```

# 修改个人信息

**简要描述**

- 用户修改个人信息

**请求URL**

- /user/updateInformation

**请求方式**

- POST

**Header**

```
{
}
```

**请求体**

| 参数名      | 必选 | 类型   | 说明                                |
| ----------- | ---- | ------ | ----------------------------------- |
| uid         | 是   | int    | 默认传0                             |
| uname       | 是   | string | 用户名                              |
| password    | 是   | string | 密码                                |
| user_role   | 是   | int    | 用户类型；0管理员 1发包方 2众包工人 |
| phone       | 是   | string | 手机号码                            |
| email       | 是   | string | 邮箱                                |
| description | 是   | string | 个人简介                            |
| ability     | 是   | double | 能力值                              |
| preference  | 是   | string | 任务偏好                            |
| activity    | 是   | int    | 活跃度                              |
| equipment   | 是   | string | 测试设备类型                        |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| code         | int    | 是否成功；0表示成功，1表示失败 |
| msg          | string | 请求结果的描述信息             |
| data         |        |                                |
| +uid         | int    | 更新过的用户id                 |
| +uname       | String | 用户名                         |
| +password    | string | 密码                           |
| +user_role   | int    | 用户类型                       |
| +phone       | string | 手机号码                       |
| +email       | string | 邮箱                           |
| +description | string | 个人简介                       |
| +ability     | double | 能力值                         |
| +preference  | string | 任务偏好                       |
| +activity    | int    | 活跃度                         |
| +equipment   | string | 测试设备类型                   |

**返回示例**

```json
{
	"code" : 0,
	"msg" : "注册成功",
    "data"	:"........................."
}
```

# 发布众测任务

**简要描述**

- 发布众测任务的接口

**请求URL**

- /task/create

**请求方式**

- POST

**请求体**

| 参数名          | 必选 | 类型          | 说明           |
| --------------- | ---- | ------------- | -------------- |
| id              | 否   | int           | 任务id         |
| name            | 是   | String        | 任务名称       |
| description     | 是   | String        | 任务简介       |
| end_time        | 是   | date          | 任务截止时间   |
| worker_num      | 是   | String        | 需要工人数量   |
| difficulty      | 是   | int           | 任务的难度数值 |
| type            | 是   | String        | 测试类型       |
| equipment       | 是   | String        | 任务的设备需求 |
| others          | 是   | String        | 其他需求       |
| user_id         | 是   | int           | 发布者id       |
| user_name       | 是   | int           | 发布者姓名     |
| executable_file | 是   | MultipartFile | 可执行文件     |
| doc_file        | 是   | MultipartFile | 描述文档       |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| status       | int    | 是否成功；0表示成功，1表示失败 |
| message      | string | 请求结果的描述信息             |
| data         |        | 上述的task相关信息             |
| +id          | int    | 众测任务的id                   |
| +name        | string | 众测任务的名字                 |
| +description | string | 任务的描述信息                 |
| +end_time    | date   | 任务结束时间                   |
| +worker_num  | int    | 任务所需工人数量               |
| +difficulty  | int    | 任务的难度数值                 |
| +type        | string | 任务类型                       |
| +equipment   | string | 任务的设备需求                 |
| +others      | string | 任务其他需求                   |

# 任务浏览

## 浏览任务广场全部任务

**简要描述**

- 返回全部在截止日期前的任务广场的任务

**请求URL**

- /task/getAll

**请求方式**

- GET

**Header**

```
{

}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明                         |
| ------ | ---- | ---- | ---------------------------- |
| page   | 是   | int  | 分页机制下，显示当前是第几页 |

**返回参数说明**

| 参数名       | 类型   | 说明             |
| ------------ | ------ | ---------------- |
| *PageInfo    |        | *众包列表        |
| +id          | int    | 众测任务的id     |
| +name        | string | 众测任务的名字   |
| +description | string | 任务的描述信息   |
| +end_time    | date   | 任务结束时间     |
| +worker_num  | int    | 任务所需工人数量 |
| +difficulty  | int    | 任务的难度数值   |
| +type        | string | 任务类型         |
| +equipment   | string | 任务的设备需求   |
| +others      | string | 任务其他需求     |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
      "id" : 1,
      "name" : "测试某包1",
       "detail":"该任务主要是要balabala",
         
    },
    {
       "id" : 3,
       "name" : "测试某包2",
       "detail":"该任务主要是要balabala",
         
    },{
      "id" : 3,
      "name" : "测试某包3",
      "detail":"该任务主要是要balabala",
    },
  ]
}
```

## 众包工人浏览任务广场

**简要描述**

- 众包工人能够接受任务，返回众包工人还未接受的任务

**请求URL**

- /task/getList

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明                         |
| ------ | ---- | ---- | ---------------------------- |
| uid    | 是   | int  | 用户id                       |
| page   | 是   | int  | 分页机制下，显示当前是第几页 |

**返回参数说明**

| 参数名       | 类型   | 说明             |
| ------------ | ------ | ---------------- |
| *PageInfo    |        | *众包列表        |
| +id          | int    | 众测任务的id     |
| +name        | string | 众测任务的名字   |
| +description | string | 任务的描述信息   |
| +end_time    | date   | 任务结束时间     |
| +worker_num  | int    | 任务所需工人数量 |
| +difficulty  | int    | 任务的难度数值   |
| +type        | string | 任务类型         |
| +equipment   | string | 任务的设备需求   |
| +others      | string | 任务其他需求     |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
      "id" : 1,
      "name" : "测试某包1",
       "detail":"该任务主要是要balabala",
         
    },
    {
       "id" : 3,
       "name" : "测试某包2",
       "detail":"该任务主要是要balabala",
         
    },{
      "id" : 3,
      "name" : "测试某包3",
      "detail":"该任务主要是要balabala",
    },
  ]
}
```

## 发包方浏览已发布众包

**简要描述**

- 发包方能够浏览自己已经发布的众包

**请求URL**

- /task/getCreated

**请求方式**

- GET

**Header**

```
{
	Authorization: {{tokenString}}
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明                         |
| ------ | ---- | ---- | ---------------------------- |
| uid    | 是   | int  | 用户id                       |
| page   | 是   | int  | 分页机制下，显示当前是第几页 |

**返回参数说明**

| 参数名       | 类型   | 说明             |
| ------------ | ------ | ---------------- |
| *PageInfo    |        | *众包列表        |
| +id          | int    | 众测任务的id     |
| +name        | string | 众测任务的名字   |
| +description | string | 任务的描述信息   |
| +end_time    | date   | 任务结束时间     |
| +worker_num  | int    | 任务所需工人数量 |
| +difficulty  | int    | 任务的难度数值   |
| +type        | string | 任务类型         |
| +equipment   | string | 任务的设备需求   |
| +others      | string | 任务其他需求     |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
      "id" : 1,
      "name" : "测试某包1",
       "detail":"该任务主要是要balabala",
         
    },
    {
       "id" : 3,
       "name" : "测试某包2",
       "detail":"该任务主要是要balabala",
         
    },{
      "id" : 3,
      "name" : "测试某包3",
      "detail":"该任务主要是要balabala",
    },
  ]
}
```

## 浏览任务详情

**简要描述**

- 用户从任务列表中点击某个任务，展示任务详情

**请求URL**

- /task/{taskId}

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明   |
| ------ | ---- | ---- | ------ |
| taskId | 是   | int  | 任务id |

**返回参数说明**

| 参数名       | 类型   | 说明             |
| ------------ | ------ | ---------------- |
| *PageInfo    |        | *众包列表        |
| +id          | int    | 众测任务的id     |
| +name        | string | 众测任务的名字   |
| +description | string | 任务的描述信息   |
| +end_time    | date   | 任务结束时间     |
| +worker_num  | int    | 任务所需工人数量 |
| +difficulty  | int    | 任务的难度数值   |
| +type        | string | 任务类型         |
| +equipment   | string | 任务的设备需求   |
| +others      | string | 任务其他需求     |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
        "id" : 1,
        "name" : "测试某包1",
        "description":"该任务主要是要balabala",
        "end_time":"2023-02-19",
        "worker_num":10,
        "type" : "功能测试",
        "others" : "还需要...",
        "fileId":1,
        "fileName":"test",
        "appId":1,
        "appName":"QQ",
        "appDetail":"qwhdoqwhdoqw"
    },
  ]
}
```

## 获取任务推荐列表

**简要描述**

- 获取为某个用户推荐的任务推荐列表

**请求URL**

- /task/getRecommend

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明   |
| ------ | ---- | ---- | ------ |
| uid    | 是   | int  | 用户id |
| taskId | 是   | int  | 任务id |

**返回参数说明**

| 参数名      | 类型   | 说明             |
| ----------- | ------ | ---------------- |
| pageInfo    |        | 众测任务列表     |
| id          | int    | 众测任务的id     |
| name        | string | 众测任务的名字   |
| description | string | 任务的描述信息   |
| end_time    | date   | 任务结束时间     |
| worker_num  | int    | 任务所需工人数量 |
| difficulty  | int    | 任务的难度数值   |
| type        | string | 任务类型         |
| equipment   | string | 任务的设备需求   |
| others      | string | 任务其他需求     |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
        "id" : 1,
        "name" : "测试某包1",
        "description":"该任务主要是要balabala",
        "end_time":"2023-02-19",
        "worker_num":10,
        "type" : "功能测试",
        "others" : "还需要...",
    },
  ]
}
```

## 更新可执行文件

**简要描述**

- 用户在任务详情界面中点击上传可执行文件，选择文件并上传。

**请求URL**

- /task/{taskId}/updateExecutable

**请求方式**

- POST

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明   |
| ------ | ---- | ---- | ------ |
| taskId | 是   | int  | 任务id |

**返回参数说明**

| 参数名       | 类型              | 说明                           |
| ------------ | ----------------- | ------------------------------ |
| code         | int               | 是否成功；0表示成功，1表示失败 |
| message      | string            | 请求结果的描述信息             |
| data         | array (object)    | 任务详情的数组                 |
| +uuid     | string            | 目标uuid                |
| +type        | string            | 文件类型                      |
| +size        | string            | 文件大小(MB)                  |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
        "uuid":"abcdefghijklmn",
        "type":"rar",
        "size":"1.23MB"
    },
  ]
}
```

## 更新文档

**简要描述**

- 用户在任务详情界面中点击上传文档，选择文件并上传。

**请求URL**

- /task/{taskId}/updateDoc

**请求方式**

- POST

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明   |
| ------ | ---- | ---- | ------ |
| taskId | 是   | int  | 任务id |

**返回参数说明**

| 参数名       | 类型              | 说明                           |
| ------------ | ----------------- | ------------------------------ |
| code         | int               | 是否成功；0表示成功，1表示失败 |
| message      | string            | 请求结果的描述信息             |
| data         | array (object)    | 任务详情的数组                 |
| +uuid    | string            | 目标uuid                 |
| +type        | string            | 文件类型                      |
| +size        | string            | 文件大小(MB)                  |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
        "uuid":"abcdefghijklmn",
        "type":"pdf",
        "size":"1.23MB"
    },
  ]
}
```

## 下载可执行文件

**简要描述**

- 用户在任务详情界面中点击下载可执行文件。

**请求URL**

- /task/{taskId}/downloadExecutable

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明   |
| ------ | ---- | ---- | ------ |
| taskId | 是   | int  | 任务id |

**返回参数说明**

无

## 下载文档

**简要描述**

- 用户在任务详情界面中点击下载文档。

**请求URL**

- /task/{taskId}/downloadDoc

**请求方式**

- GET

**Header**

```
{

}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明   |
| ------ | ---- | ---- | ------ |
| taskId | 是   | int  | 任务id |

**返回参数说明**

无

# 任务选取

## 工人接受任务

**简要描述**

- 工人选择接受某个任务（不再招募状态的任务不应该调用该接口）

**请求URL**

- /taskOrder/acceptTask

**请求方式**

- POST

**Header**

```
{
	
}
```

**请求体**

| 参数名      | 必选 | 类型   | 说明                         |
| ----------- | ---- | ------ | ---------------------------- |
| id          | 否   | int    | 默认传0                      |
| user_id     | 是   | int    | 用户id                       |
| user_name   | 否   | String | 用户名                       |
| task_id     | 是   | int    | 任务id                       |
| task_name   | 是   | String | 任务名                       |
| create_time | 是   | date   | order创建时间                |
| status      | 是   | int    | 任务进行状态 0 完成 1 未完成 |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| code         | int    | 是否成功；0表示成功，1表示失败 |
| message      | string | 请求结果的描述信息             |
| taskOrder    |        | 这项order的具体信息            |
| +id          | int    | order的id                      |
| +user_id     | int    | 用户id                         |
| +user_name   | string | 用户名                         |
| +task_id     | int    | 任务id                         |
| +task_name   | string | 任务名                         |
| +create_time | date   | 任务创建时间                   |
| +status      | int    | 任务状态 0 完成 1 未完成       |

**返回示例**

```json
{
	"code" : 0,
	"message" : "success",
    "id" : 0,
	"uid" : 0,
    "uname" : "132",
    "task_id" : 0,
    "task_name" : "123",
	"create_time" : "2022-3-1"
    "status" : 0,
}
```

## 工人浏览正在进行的任务

**简要描述**

- 众包工人浏览正在进行的任务

**请求URL**

-   /taskOrder/getDoing

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明                         |
| ------ | ---- | ---- | ---------------------------- |
| uid    | 是   | int  | 用户id                       |
| page   | 是   | int  | 分页机制下，显示当前是第几页 |

**返回参数说明**

| 参数名       | 类型   | 说明      |
| ------------ | ------ | --------- |
| *PageInfo    |        | *任务列表 |
| + id         | int    | order的id |
| +user_id     | int    | 用户id    |
| +user_name   | string | 用户名    |
| +task_id     | int    | 任务id    |
| +task_name   | string | 任务名    |
| +create_time | date   | 创建时间  |
| +status      | int    | 任务状态  |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
      "id" : 1,
      "name" : "测试某包1",
         
    },
    {
       "id" : 3,
       "name" : "测试某包2",
         
    },{
      "id" : 3,
      "name" : "测试某包3",
    },
  ]
}
```

## 工人浏览已完成的任务

**简要描述**

- 众包工人能够接受任务，返回众包工人还未接受的任务

**请求URL**

-   /taskOrder/getFinished

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名 | 必选 | 类型 | 说明                         |
| ------ | ---- | ---- | ---------------------------- |
| uid    | 是   | int  | 用户id                       |
| page   | 是   | int  | 分页机制下，显示当前是第几页 |

**返回参数说明**

| 参数名       | 类型   | 说明      |
| ------------ | ------ | --------- |
| *PageInfo    |        | *任务列表 |
| + id         | int    | order的id |
| +user_id     | int    | 用户id    |
| +user_name   | string | 用户名    |
| +task_id     | int    | 任务id    |
| +task_name   | string | 任务名    |
| +create_time | date   | 创建时间  |
| +status      | int    | 任务状态  |

**返回示例**

```json
{
	"status" : 0,
	"message" : "success",
  "data" : [
    {
      "id" : 1,
      "name" : "测试某包1",
         
    },
    {
       "id" : 3,
       "name" : "测试某包2",
         
    },{
      "id" : 3,
      "name" : "测试某包3",
    },
  ]
}
```

# 提交报告

**简要描述**

- 用户提交报告的接口

**请求URL**

- /report/submit

**请求方式**

- POST

**Header**

```
{

}
```

**请求体**

| 参数名      | 必选 | 类型   | 说明         |
| ----------- | ---- | ------ | ------------ |
| id          | 否   | int    | 默认为0      |
| user_id     | 是   | int    | 用户id       |
| task_id     | 是   | int    | 任务id       |
| description | 是   | string | 缺陷情况说明 |
| step        | 是   | string | 缺陷复现步骤 |
| equipment   | 是   | string | 测试设备信息 |
| post_time   | 是   | date   | 报告发布时间 |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| code         | int    | 是否成功；0表示成功，1表示失败 |
| message      | string | 请求结果的描述信息             |
| report       |        | 报告的相关信息                 |
| +id          | int    | reportid                       |
| +user_id     | int    | 用户id                         |
| +task_id     | int    | 任务id                         |
| +description | string | 缺陷情况说明                   |
| +step        | string | 缺陷复现步骤                   |
| +equipment   | string | 测试设备信息                   |
| +post_time   | date   | 报告发布时间                   |
| +score       | double | 报告评分                       |

**返回示例**

```json
{
	"code" : 0,
	"message" : "success",
    "id" : 0,
	"user_id" : 1,
    "task_id" : 1,
    "description" : "123",
    "step" : "123",
    "equipment" : "123",
	"post_time" : "2022-3-1"
    "score" : 0.0
}
```

# 浏览报告列表

**简要描述**

- 获取众测任务的测试报告列表

**请求URL**

- /report/getList/{taskId}

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名   | 必选 | 类型 | 说明       |
| -------- | ---- | ---- | ---------- |
| taskId   | 是   | int  | 众测任务id |
| currPage | 是   | int  | 当前页数   |

**返回参数说明**

| 参数名       | 类型   | 说明         |
| ------------ | ------ | ------------ |
| *PageInfo    |        | *报告列表    |
| +id          | int    | 报告id       |
| +user_id     | int    | 用户id       |
| +user_name   | string | 用户名       |
| +task_id     | int    | 报告id       |
| +description | string | 缺陷情况说明 |
| +step        | String | 缺陷复现步骤 |
| +equipment   | string | 测试设备信息 |
| +post_time   | date   | 报告发布时间 |
| +score       | double | 报告评分     |

**返回示例**

```json
{
  "data" : [
    {
      "id" : 1,
      "uid" : 1,
      "uname" : "Joe",
      "task_id" : 1,
      "task_name" : "任务1",
    },
  ]
}
```

# 浏览报告详情

**简要描述**

- 获取众测任务的测试报告详情

**请求URL**

- /report/getReport/{reportId}

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名   | 必选 | 类型 | 说明   |
| -------- | ---- | ---- | ------ |
| reportId | 是   | int  | 报告id |

**返回参数说明**

| 参数名      | 类型            | 说明         |
| ----------- | --------------- | ------------ |
| id          | int             | 报告id       |
| user_id     | int             | 用户id       |
| task_id     | int             | 报告id       |
| description | string          | 缺陷情况说明 |
| step        | String          | 缺陷复现步骤 |
| equipment   | string          | 测试设备信息 |
| post_time   | date            | 报告发布时间 |
| score       | double          | 报告评分     |
| pics        | MultipartFile[] | 图片文件列表 |
| picsList    | String[]        | 图片名列表   |

**返回示例**

```json
{
  "user_id" : "1",
  "task_id" : "1",
  "description" : "1234",
  "step" : "1234",
  "equipment" : "1234",
  "post_time" : 2022-3-1,
  "score" : 0,
  "pics" : [],
  "picsList" : []
}
```

# 获取报告图片

**简要描述**

- 获取众测任务的测试报告详情

**请求URL**

- /report/getReport/{reportId}/pic

**请求方式**

- GET

**请求体**

| 参数名   | 必选 | 类型   | 说明   |
| -------- | ---- | ------ | ------ |
| reportId | 是   | int    | 报告id |
| name     | 是   | String | 图片名 |
**返回参数说明**

无

# 获取相似报告

**简要描述**

- 获取与某一报告相似的报告内容

**请求URL**

- /report/getSimilar

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名   | 必选 | 类型 | 说明   |
| -------- | ---- | ---- | ------ |
| reportId | 是   | int  | 报告id |

**返回参数说明**

| 参数名      | 类型   | 说明         |
| ----------- | ------ | ------------ |
| id          | int    | 报告id       |
| user_id     | int    | 用户id       |
| task_id     | int    | 报告id       |
| description | string | 缺陷情况说明 |
| step        | String | 缺陷复现步骤 |
| equipment   | string | 测试设备信息 |
| post_time   | date   | 报告发布时间 |
| score       | double | 报告评分     |

**返回示例**

```json
{
  "pics" : [
    "http://localhost:8080/pics/pic1",
    "https://images.taboola.com/taboola/image/image1"
  ],
  "uname" : "Joe",
  "description" : "1234",
  "step" : "1234",
  "equipment" : "1234",
  "post_time" : 2022-3-1
}
```

# 提交补充说明报告

**简要描述**

- 为已经提交的报告添加补充说明报告

**请求URL**

- /supplement/createSupplement

**请求方式**

- POST

**Header**

```
{
	
}
```

**请求体**

| 参数名      | 必选 | 类型   | 说明         |
| ----------- | ---- | ------ | ------------ |
| id          | 否   | int    | 默认为0      |
| user_id     | 是   | int    | 用户id       |
| report_id   | 是   | int    | 报告id       |
| description | 是   | string | 缺陷情况说明 |
| step        | 是   | string | 缺陷复现步骤 |
| equipment   | 是   | string | 测试设备信息 |
| post_time   | 是   | date   | 报告发布时间 |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| code         | int    | 是否成功；0表示成功，1表示失败 |
| message      | string | 请求结果的描述信息             |
| report       |        | 报告的相关信息                 |
| +id          | int    | reportid                       |
| +user_id     | int    | 用户id                         |
| +report_id   | int    | 报告id                         |
| +description | string | 缺陷情况说明                   |
| +step        | string | 缺陷复现步骤                   |
| +equipment   | string | 测试设备信息                   |
| +post_time   | date   | 报告发布时间                   |

**返回示例**

```json
{
	"code" : 0,
	"message" : "success",
    "id" : 0,
	"user_id" : 1,
    "report_id" : 1,
    "description" : "123",
    "step" : "123",
    "equipment" : "123",
	"post_time" : "2022-3-1"
}
```

# 获取补充说明报告列表

**简要描述**

- 为已经提交的报告添加补充说明报告

**请求URL**

- /supplement/getList

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名    | 必选 | 类型 | 说明         |
| --------- | ---- | ---- | ------------ |
| report_id | 是   | int  | 报告id       |
| currPage  | 是   | int  | 补充说明页数 |

**返回参数说明**

| 参数名       | 类型   | 说明                 |
| ------------ | ------ | -------------------- |
| supplements  |        | 补充说明报告相关信息 |
| +id          | int    | 补充说明报告id       |
| +user_id     | int    | 用户id               |
| +user_name   | string | 用户名               |
| +report_id   | int    | 任务id               |
| +description | string | 缺陷情况说明         |
| +step        | string | 缺陷复现步骤         |
| +equipment   | string | 测试设备信息         |
| +post_time   | date   | 报告发布时间         |

**返回示例**

```json
{
    "id" : 0,
	"user_id" : 1,
    "report_id" : 1,
    "description" : "123",
    "step" : "123",
    "equipment" : "123",
	"post_time" : "2022-3-1"
}
```

# 浏览补充说明报告详情

**简要描述**

- 获取报告的补充说明报告详情

**请求URL**

- /supplement/getSupplement

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名       | 必选 | 类型 | 说明s          |
| ------------ | ---- | ---- | -------------- |
| supplementId | 是   | int  | 补充说明报告id |

**返回参数说明**

| 参数名      | 类型   | 说明         |
| ----------- | ------ | ------------ |
| id          | int    | 报告id       |
| user_id     | int    | 用户id       |
| report_id   | int    | 报告id       |
| description | string | 缺陷情况说明 |
| step        | String | 缺陷复现步骤 |
| equipment   | string | 测试设备信息 |
| post_time   | date   | 报告发布时间 |

**返回示例**

```json
{
  "pics" : [
    "http://localhost:8080/pics/pic1",
    "https://images.taboola.com/taboola/image/image1"
  ],
  "uname" : "Joe",
  "description" : "1234",
  "step" : "1234",
  "equipment" : "1234",
  "post_time" : 2022-3-1
}
```

# 发布评论

**简要描述**

- 为已经提交的报告发布评论内容

**请求URL**

- /comment/createComment

**请求方式**

- POST

**Header**

```
{
	
}
```

**请求体**

| 参数名      | 必选               | 类型   | 说明         |
| ----------- | ------------------ | ------ | ------------ |
| id          | 否                 | int    | 默认为0      |
| user_id     | 是                 | int    | 用户id       |
| report_id   | 是                 | int    | 报告id       |
| score       | 是                 | int    | 用户评分     |
| description | 是（但是可为null） | string | 评价内容     |
| post_time   | 是                 | date   | 报告发布时间 |

**返回参数说明**

| 参数名       | 类型   | 说明                           |
| ------------ | ------ | ------------------------------ |
| code         | int    | 是否成功；0表示成功，1表示失败 |
| message      | string | 请求结果的描述信息             |
| comment      |        | 报告的相关信息                 |
| +id          | int    | reportid                       |
| +user_id     | int    | 用户id                         |
| +report_id   | int    | 报告id                         |
| +score       | int    | 用户评分（1-5）                |
| +description | string | 评价内容                       |
| +post_time   | date   | 报告发布时间                   |

**返回示例**

```json
{
	"code" : 0,
	"message" : "success",
    "id" : 0,
	"user_id" : 1,
    "report_id" : 1,
    "score" : 1,
    "description" : "123",
	"post_time" : "2022-3-1"
}
```

# 获取全部评论

**简要描述**

- 获取已经提交报告的全部评论内容

**请求URL**

- /comment/getComments

**请求方式**

- GET

**Header**

```
{
	
}
```

**请求体**

| 参数名    | 必选 | 类型 | 说明         |
| --------- | ---- | ---- | ------------ |
| report_id | 是   | int  | 报告id       |
| currPage  | 是   | int  | 当前评论页数 |

**返回参数说明**

| 参数名       | 类型   | 说明            |
| ------------ | ------ | --------------- |
| comments     | 列表   | 报告的相关信息  |
| +id          | int    | reportid        |
| +user_id     | int    | 用户id          |
| +report_id   | int    | 报告id          |
| +score       | int    | 用户评分（1-5） |
| +description | string | 评价内容        |
| +post_time   | date   | 报告发布时间    |

**返回示例**

```json
{
    "id" : 0,
	"user_id" : 1,
    "report_id" : 1,
    "score" : 1,
    "description" : "123",
	"post_time" : "2022-3-1"
}
```

